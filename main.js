(()=>{"use strict";function e(e,t,n,o){var a=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),r=a.querySelector(".card__like-button"),p=a.querySelector(".card__title"),u=a.querySelector(".card__image");return u.src=e.link,p.textContent=e.name,u.alt=e.name,a.querySelector(".card__delete-button").addEventListener("click",t),u.addEventListener("click",n),r.addEventListener("click",o),a}function t(e){e.target.closest(".card").remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function r(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function p(e){e.stopPropagation(),e.target.classList.contains("popup")&&a(e.target)}function u(e){a(e.target.closest(".popup"))}var c=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__add-button"),s=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),_=document.querySelector(".popup_type_new-card"),m=document.querySelectorAll(".popup__close"),y=document.querySelectorAll(".popup"),k=document.querySelector(".popup__form"),f=document.querySelector(".popup_type_image"),v=document.querySelector(".popup_type_new-card"),g=v.querySelector(".popup__input_type_card-name"),S=v.querySelector(".popup__input_type_url"),q=f.querySelector(".popup__image"),h=f.querySelector(".popup__caption"),b=document.querySelector(".popup_type_edit"),E=b.querySelector(".popup__input_type_name"),L=b.querySelector(".popup__input_type_description"),C=document.querySelector(".profile__title"),x=document.querySelector(".profile__description");function w(e){q.src=e.target.src,q.alt=e.target.alt,h.textContent=e.target.alt,o(f)}l.addEventListener("click",(function(){o(_)})),m.forEach((function(e){e.addEventListener("click",u)})),y.forEach((function(e){e.addEventListener("click",p)})),b.addEventListener("submit",(function(e){!function(e){e.preventDefault();var t=E.value,n=L.value;C.textContent=t,x.textContent=n,a(s)}(e),a(s),k.reset()})),i.addEventListener("click",(function(){E.value=C.textContent,L.value=x.textContent,o(s)})),v.addEventListener("submit",(function(o){!function(o){o.preventDefault();var r={name:g.value,link:S.value};c.prepend(e(r,{deleteCard:t,openImage:w,likeCard:n})),a(d)}(o),k.reset()})),[{name:"Гоор",link:"https://sportishka.com/uploads/posts/2022-03/1647382271_3-sportishka-com-p-aul-goor-turizm-krasivo-foto-3.jpg",alt:"a man sitting on top of a lush green hillside"},{name:"Гамсутль",link:"https://sportishka.com/uploads/posts/2022-03/1646701026_49-sportishka-com-p-aul-prizrak-gamsutl-v-dagestane-turizm-kra-58.jpg",alt:"Gamsutl Village, now abandoned"},{name:"Сарыкум",link:"https://saltaxi.ru/wp-content/uploads/2021/12/13441-barxan-sarykum-v-8k-respublika-dagestan-scaled.jpg",alt:"dune Sarikum"},{name:"Каньон",link:"https://sportishka.com/uploads/posts/2022-11/1667559740_21-sportishka-com-p-sulakskii-kanon-domiki-instagram-22.jpg",alt:"Sulak canyon is one of the deepest canyons in the world and the deepest in Europe, its depth reaches up to 1920 meters and a length of 53 kilometers."},{name:"Гуниб",link:"https://avatars.dzeninfra.ru/get-zen_doc/4419441/pub_638b96214549334cd540e834_638b9702ab85c31e30f11d00/scale_1200",alt:"village Gunib"},{name:"Кайтаг",link:"https://avatars.mds.yandex.net/i?id=369445eeabf6e9d2b3475b00daa44da2e39b77df_l-10351804-images-thumbs&n=13",alt:"kaitag mountains"}].forEach((function(o){var a=e(o,{deleteCard:t,likeCard:n,openImage:w});c.prepend(a)}))})();