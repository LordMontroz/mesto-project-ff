(()=>{"use strict";function e(e,t){var n=t.deleteCard,o=t.openImage,a=t.likeCard,r=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),p=r.querySelector(".card__like-button"),u=r.querySelector(".card__title"),c=r.querySelector(".card__image");return c.src=e.link,u.textContent=e.name,c.alt=e.name,r.querySelector(".card__delete-button").addEventListener("click",n),c.addEventListener("click",o),p.addEventListener("click",a),r}function t(e){e.target.closest(".card").remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function r(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function p(e){e.stopPropagation(),e.target.classList.contains("popup")&&a(e.target)}function u(e){a(e.target.closest(".popup"))}var c=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__add-button"),d=document.querySelector(".popup_type_edit"),s=document.querySelector(".popup_type_new-card"),_=document.querySelector(".popup_type_new-card"),m=document.querySelectorAll(".popup__close"),y=document.querySelectorAll(".popup"),k=document.querySelector(".popup__form"),f=document.querySelector(".popup__form"),g=document.querySelector(".popup_type_image"),v=document.querySelector(".popup_type_edit"),S=v.querySelector(".popup__input_type_name"),q=v.querySelector(".popup__input_type_description"),h=document.querySelector(".profile__title"),b=document.querySelector(".profile__description"),E=document.querySelector(".popup_type_new-card"),L=E.querySelector(".popup__input_type_card-name"),C=E.querySelector(".popup__input_type_url"),x=g.querySelector(".popup__image"),w=g.querySelector(".popup__caption");function z(e){x.src=e.target.src,x.alt=e.target.alt,w.textContent=e.target.alt,o(g)}l.addEventListener("click",(function(){o(_)})),m.forEach((function(e){e.addEventListener("click",u)})),y.forEach((function(e){e.classList.add("popup_is-animated"),e.addEventListener("click",p)})),v.addEventListener("submit",(function(e){!function(e){e.preventDefault();var t=S.value,n=q.value;h.textContent=t,b.textContent=n,a(d)}(e),k.reset()})),i.addEventListener("click",(function(){S.value=h.textContent,q.value=b.textContent,o(d)})),E.addEventListener("submit",(function(o){!function(o){o.preventDefault();var r={name:L.value,link:C.value};c.prepend(e(r,{deleteCard:t,openImage:z,likeCard:n})),a(s)}(o),f.reset()})),[{name:"Гоор",link:"https://sportishka.com/uploads/posts/2022-03/1647382271_3-sportishka-com-p-aul-goor-turizm-krasivo-foto-3.jpg",alt:"a man sitting on top of a lush green hillside"},{name:"Гамсутль",link:"https://sportishka.com/uploads/posts/2022-03/1646701026_49-sportishka-com-p-aul-prizrak-gamsutl-v-dagestane-turizm-kra-58.jpg",alt:"Gamsutl Village, now abandoned"},{name:"Сарыкум",link:"https://saltaxi.ru/wp-content/uploads/2021/12/13441-barxan-sarykum-v-8k-respublika-dagestan-scaled.jpg",alt:"dune Sarikum"},{name:"Каньон",link:"https://sportishka.com/uploads/posts/2022-11/1667559740_21-sportishka-com-p-sulakskii-kanon-domiki-instagram-22.jpg",alt:"Sulak canyon is one of the deepest canyons in the world and the deepest in Europe, its depth reaches up to 1920 meters and a length of 53 kilometers."},{name:"Гуниб",link:"https://avatars.dzeninfra.ru/get-zen_doc/4419441/pub_638b96214549334cd540e834_638b9702ab85c31e30f11d00/scale_1200",alt:"village Gunib"},{name:"Кайтаг",link:"https://avatars.mds.yandex.net/i?id=369445eeabf6e9d2b3475b00daa44da2e39b77df_l-10351804-images-thumbs&n=13",alt:"kaitag mountains"}].forEach((function(o){var a=e(o,{deleteCard:t,likeCard:n,openImage:z});c.prepend(a)}))})();